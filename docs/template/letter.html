<!DOCTYPE html>
<html>

<head>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=" crossorigin="anonymous"></script>
    <title>letter</title>
    <style>
        :root {
            --baseColor: rgba(238,238,238,1);
            --baseColor_bg: rgb(23, 24, 28);
            --baseColor_border: rgb(88 ,88 ,88);
        }

        body {
            color : var(--baseColor);
            background: var(--baseColor_bg);
        }

        .date {
            position : absolute;
            top : 2vh;
            right : 4vw;
        }

        .subtitles-wrap {
            position : absolute;
            display : table;
            bottom : 10vh;
            left: 10vw;
            min-height: 20vh;
            width : 80vw;
            border : solid var(--baseColor_border);
        }

        .subtitles {
            display : table-cell;
            background: linear-gradient(180deg ,var(--baseColor_bg) , var(--baseColor) 80%);
            -webkit-text-fill-color: transparent;
            -webkit-background-clip: text;
            text-align: center;
            vertical-align: middle;
        }
    </style>
</head>

<body>
    <main>
        <div class="date">
            2020年 1月 15日
        </div>
        <div id="subtitles-wrap" class="subtitles-wrap">
            <div id="subtitles" class="subtitles">
            </div>
        </div>
    </main>
    <script type="text/javascript">
    loadScript('/git/letter/docs/js/nextText.js', function() {
        nextText();
    });
    logging('ajax', 'start');
    getByAjax('/git/letter/test/docs/template/data/aaa.txt');

    /**
     * Ajaxを利用してソースを取得する
     */
    function getByAjax(path) {
        var xhr = new XMLHttpRequest();
        loggingObj('ajax', xhr);

        xhr.open('GET', path);
        xhr.send();
        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4 && xhr.status === 200) {

                //データを取得後の処理を書く
            }
        }
    }

    /**
     * srcの読み込みを待ってからcallbackを実行する
     */
    function loadScript(src, callback) {
        var done = false;
        var head = document.getElementsByTagName('head')[0];
        var script = document.createElement('script');
        script.src = src;
        head.appendChild(script);
        // Attach handlers for all browsers
        script.onload = script.onreadystatechange = function() {
            if (!done && (!this.readyState ||
                    this.readyState === "loaded" || this.readyState === "complete")) {
                done = true;
                callback();
                // Handle memory leak in IE
                script.onload = script.onreadystatechange = null;
                if (head && script.parentNode) {
                    head.removeChild(script);
                }
            }
        };
    }

    /**
     * ログUtil
     */
    function logging(processName, message) {
        console.log('[' + processName + '] ' + message);
    }

    var loggingMarkCount = 0;
    /**
     * ログUtil(目立つラインをつけて目印にする)
     */
    function loggingMark(message) {
        console.log(++loggingMarkCount + '----------------------------------------- ' + message + ' ----------------------------------------- ');
    }

    /**
     * ログUtil(オブジェクトの内容出力)
     */
    function loggingObj(processName, object) {
        console.log('[' + processName + '] ');
        console.dir(object);
    }
    </script>
</body>

</html>